import{E as V}from"./el-button.c8f85ce3.js";import{E as g,a as y,b as x}from"./el-input.ad0c0851.js";import{_ as B}from"./BlogHeader.vue_vue_type_script_setup_true_lang.3657b15c.js";import{d as C,r as F,o as I,c as v,a as o,b as c,l as s,u as a,F as w,f as h,g as i,h as D,P,_ as R}from"./index.0e74be79.js";import{a as k,c as A,E as N}from"./api.a67054cf.js";import"./index.6a729945.js";const T={class:"content py-2 mx-auto"},U={class:""},z=i("\u63D0\u4EA4"),M=i("\u53D6\u6D88"),q=C({__name:"edit",setup(H){let t=F({id:"",title:"",name:"",content:""});const r=D(),_=P(),p=async()=>{let l={postId:t.id,postTitle:t.title,postAuthor:t.name,postContent:t.content};await A(l)&&(N({message:"\u4FEE\u6539\u6210\u529F",type:"success",customClass:"lobster-msg"}),r.replace("/blog"))},f=async()=>{const l=_.query.id,e=await k({id:l});t.id=e.postId,t.content=e.postContent,t.title=e.postTitle,t.name=e.postAuthor};return I(()=>{f()}),(l,e)=>{const b=B,d=g,u=y,m=V,E=x;return h(),v(w,null,[o(b),c("div",T,[c("div",U,[o(E,{model:a(t),size:"large","label-width":"20","label-position":"top"},{default:s(()=>[o(u,{label:"\u6807\u9898"},{default:s(()=>[o(d,{modelValue:a(t).title,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).title=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u4F5C\u8005"},{default:s(()=>[o(d,{modelValue:a(t).name,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).name=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5185\u5BB9"},{default:s(()=>[o(d,{type:"textarea",modelValue:a(t).content,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).content=n),autosize:{minRows:20,maxRows:50}},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(m,{class:"action-button",type:"primary",onClick:p},{default:s(()=>[z]),_:1}),o(m,{class:"action-button"},{default:s(()=>[M]),_:1})]),_:1})]),_:1},8,["model"])])])],64)}}});const L=R(q,[["__scopeId","data-v-a7a395cd"]]);export{L as default};
