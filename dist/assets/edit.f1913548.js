import{E as b}from"./el-button.64f07647.js";import{E,a as V,b as y}from"./el-input.a7e5f32e.js";import{d as x,r as g,b as I,c as w,f as o,l as s,u as a,o as B,Q as m,h as C,a2 as v,_ as F}from"./index.95f7d324.js";import{b as D,c as R,E as h}from"./api.fc292dd8.js";import"./index.899eedb3.js";const k={class:"text-editor"},A=m("\u63D0\u4EA4"),P=m("\u53D6\u6D88"),T=x({__name:"edit",setup(U){let t=g({id:"",title:"",name:"",content:""});const r=C(),c=v(),p=async()=>{let l={postId:t.id,postTitle:t.title,postAuthor:t.name,postContent:t.content};await R(l)&&(h({message:"\u4FEE\u6539\u6210\u529F",type:"success"}),r.replace("/blog"))},_=async()=>{const l=c.query.id,e=await D({id:l});t.id=e.postId,t.content=e.postContent,t.title=e.postTitle,t.name=e.postAuthor};return I(()=>{_()}),(l,e)=>{const d=E,u=V,i=b,f=y;return B(),w("div",k,[o(f,{model:a(t),size:"large","label-width":"20","label-position":"top"},{default:s(()=>[o(u,{label:"\u6807\u9898"},{default:s(()=>[o(d,{modelValue:a(t).title,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).title=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u4F5C\u8005"},{default:s(()=>[o(d,{modelValue:a(t).name,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).name=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5185\u5BB9"},{default:s(()=>[o(d,{type:"textarea",modelValue:a(t).content,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).content=n),autosize:{minRows:20,maxRows:50}},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(i,{class:"action-button",type:"primary",onClick:p},{default:s(()=>[A]),_:1}),o(i,{class:"action-button"},{default:s(()=>[P]),_:1})]),_:1})]),_:1},8,["model"])])}}});const S=F(T,[["__scopeId","data-v-c2f03eea"]]);export{S as default};
