import{E as V}from"./el-button.2003b462.js";import{E as g,a as y,b as x}from"./el-message.ecd4b08a.js";import{a as B,c as C,E as F,_ as I}from"./api.7f933a05.js";import{d as v,r as w,o as h,c as D,a as o,b as i,n as s,u as a,F as R,f as k,g as _,h as A,S as N,_ as P}from"./index.5988d936.js";import"./index.a10be5f0.js";const T={class:"content py-2 mx-auto"},U={class:""},z=_("\u63D0\u4EA4"),M=_("\u53D6\u6D88"),S=v({__name:"edit",setup(q){let t=w({id:"",title:"",name:"",content:""});const c=A(),r=N(),p=async()=>{let l={postId:t.id,postTitle:t.title,postAuthor:t.name,postContent:t.content};await C(l)&&(F({message:"\u4FEE\u6539\u6210\u529F",type:"success",customClass:"lobster-msg"}),c.replace("/blog"))},f=async()=>{const l=r.query.id,e=await B({id:l});t.id=e.postId,t.content=e.postContent,t.title=e.postTitle,t.name=e.postAuthor};return h(()=>{f()}),(l,e)=>{const b=I,d=g,u=y,m=V,E=x;return k(),D(R,null,[o(b),i("div",T,[i("div",U,[o(E,{model:a(t),size:"large","label-width":"20","label-position":"top"},{default:s(()=>[o(u,{label:"\u6807\u9898"},{default:s(()=>[o(d,{modelValue:a(t).title,"onUpdate:modelValue":e[0]||(e[0]=n=>a(t).title=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u4F5C\u8005"},{default:s(()=>[o(d,{modelValue:a(t).name,"onUpdate:modelValue":e[1]||(e[1]=n=>a(t).name=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5185\u5BB9"},{default:s(()=>[o(d,{type:"textarea",modelValue:a(t).content,"onUpdate:modelValue":e[2]||(e[2]=n=>a(t).content=n),autosize:{minRows:20,maxRows:50}},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(m,{class:"action-button",type:"primary",onClick:p},{default:s(()=>[z]),_:1}),o(m,{class:"action-button"},{default:s(()=>[M]),_:1})]),_:1})]),_:1},8,["model"])])])],64)}}});const K=P(S,[["__scopeId","data-v-4e423e97"]]);export{K as default};
