import{E}from"./el-button.fcde0c01.js";import{E as V,a as g,b as y}from"./el-message.f1fb21b3.js";import{_ as x}from"./BlogHeader.vue_vue_type_script_setup_true_lang.a78659eb.js";import{d as B,r as C,b as F,c as I,f as o,a as w,m as a,u as s,F as v,o as R,e as r,i as D,R as k,_ as A}from"./index.87512673.js";import{a as N,c as P,E as T}from"./api.4843aa5f.js";import"./index.386c033a.js";const U={class:"text-editor"},z=B({__name:"edit",setup(M){let t=C({id:"",title:"",name:"",content:""});const i=D(),c=k(),p=async()=>{let l={postId:t.id,postTitle:t.title,postAuthor:t.name,postContent:t.content};await P(l)&&(T({message:"\u4FEE\u6539\u6210\u529F",type:"success",customClass:"lobster-msg"}),i.replace("/blog"))},_=async()=>{const l=c.query.id,e=await N({id:l});t.id=e.postId,t.content=e.postContent,t.title=e.postTitle,t.name=e.postAuthor};return F(()=>{_()}),(l,e)=>{const f=x,m=V,u=g,d=E,b=y;return R(),I(v,null,[o(f),w("div",U,[o(b,{model:s(t),size:"large","label-width":"20","label-position":"top"},{default:a(()=>[o(u,{label:"\u6807\u9898"},{default:a(()=>[o(m,{modelValue:s(t).title,"onUpdate:modelValue":e[0]||(e[0]=n=>s(t).title=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u4F5C\u8005"},{default:a(()=>[o(m,{modelValue:s(t).name,"onUpdate:modelValue":e[1]||(e[1]=n=>s(t).name=n)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5185\u5BB9"},{default:a(()=>[o(m,{type:"textarea",modelValue:s(t).content,"onUpdate:modelValue":e[2]||(e[2]=n=>s(t).content=n),autosize:{minRows:20,maxRows:50}},null,8,["modelValue"])]),_:1}),o(u,null,{default:a(()=>[o(d,{class:"action-button",type:"primary",onClick:p},{default:a(()=>[r("\u63D0\u4EA4")]),_:1}),o(d,{class:"action-button"},{default:a(()=>[r("\u53D6\u6D88")]),_:1})]),_:1})]),_:1},8,["model"])])],64)}}});const G=A(z,[["__scopeId","data-v-ad6ca65a"]]);export{G as default};
